<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K&D Minibar Management</title>
    <style>
        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .header {
            width: 100%;
            padding: 20px 0;
            text-align: center;
            color: white;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .form-group {
            width: 100%;
            margin-bottom: 15px;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            box-sizing: border-box;
            border: 2px solid #ccc;
            border-radius: 5px;
        }

        .currency-toggle button {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border-radius: 8px;
            border: none;
            color: white;
        }

        /* Styly pro tlačítka měny */
        #czk-btn { background-color: #4CAF50; }
        #eur-btn { background-color: #2196F3; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" id="headerGradient">
            <h1>K&D Minibar Management</h1>
        </div>

        <!-- Výběr vily -->
        <div class="form-group">
            <label for="villa">Výběr vily</label>
            <select id="villa">
                <option value="oh-yeah">OH YEAH VILLA</option>
                <option value="little-castle">LITTLE CASTLE</option>
                <option value="amazing-pool">AMAZING POOL</option>
            </select>
        </div>

        <!-- Přepínač měny -->
        <div class="currency-toggle">
            <button id="czk-btn" onclick="setCurrency('CZK')">CZK</button>
            <button id="eur-btn" onclick="setCurrency('EUR')">EUR</button>
        </div>

        <!-- Kurz měny -->
        <div class="form-group">
            <label for="exchange-rate">Kurz CZK/EUR</label>
            <input type="number" id="exchange-rate" placeholder="Zadejte kurz" step="0.1" value="25">
        </div>

        <!-- Počet hostů a nocí -->
        <div class="form-group">
            <label for="guests">Počet hostů</label>
            <input type="number" id="guests" min="1" value="1">
        </div>

        <div class="form-group">
            <label for="nights">Počet nocí</label
            <input type="number" id="nights" min="1" value="1">
        </div>

        <!-- Položky -->
        <div id="villa-items"></div>

        <button onclick="generateInvoice()">Generovat fakturu</button>
        <div id="invoiceContainer"></div>
    </div>

    <script>
        const villaItems = {
            'oh-yeah': {
                CZK: [
                    { id: 'budvar', label: 'Budvar', price: 59 },
                    { id: 'malibu', label: 'Malibu', price: 99 },
                    { id: 'jack-cola', label: 'Jack s colou', price: 99 },
                    { id: 'moscow-mule', label: 'Moscow Mule', price: 99 },
                    { id: 'gin-tonic', label: 'Gin-Tonic', price: 99 },
                    { id: 'mojito', label: 'Mojito', price: 99 },
                    { id: 'prosecco', label: 'Prosecco', price: 390 }
                ],
                EUR: [
                    { id: 'beer-30l', label: 'Pivo sud 30 l', price: 125 },
                    { id: 'beer-50l', label: 'Pivo sud 50 l', price: 175 },
                    { id: 'gas', label: 'Plyn', price: 12 },
                    { id: 'wellness', label: 'Wellness', price: 'Custom' }
                ]
            },
            'little-castle': {
                CZK: [
                    { id: 'budvar', label: 'Budvar', price: 59 },
                    { id: 'malibu', label: 'Malibu', price: 99 },
                    { id: 'jack-cola', label: 'Jack s colou', price: 99 },
                    { id: 'moscow-mule', label: 'Moscow Mule', price: 99 },
                    { id: 'gin-tonic', label: 'Gin-Tonic', price: 99 },
                    { id: 'mojito', label: 'Mojito', price: 99 },
                    { id: 'prosecco', label: 'Prosecco', price: 390 }
                ],
                EUR: [
                    { id: 'beer-30l', label: 'Pivo sud 30 l', price: 125 },
                    { id: 'beer-50l', label: 'Pivo sud 50 l', price: 175 },
                    { id: 'gas', label: 'Plyn', price: 12 },
                    { id: 'wellness', label: 'Wellness', price: 'Custom' }
                ]
            },
            'amazing-pool': {
                CZK: [
                    { id: 'budvar', label: 'Budvar', price: 59 },
                    { id: 'malibu', label: 'Malibu', price: 99 },
                    { id: 'jack-cola', label: 'Jack s colou', price: 99 },
                    { id: 'moscow-mule', label: 'Moscow Mule', price: 99 },
                    { id: 'gin-tonic', label: 'Gin-Tonic', price: 99 },
                    { id: 'mojito', label: 'Mojito', price: 99 },
                    { id: 'coca-cola', label: 'Coca-Cola', price: 32 },
                    { id: 'sprite', label: 'Sprite', price: 32 },
                    { id: 'red-bull', label: 'Red Bull', price: 59 },
                    { id: 'prosecco', label: 'Prosecco', price: 390 }
                ],
                EUR: [
                    { id: 'beer-30l', label: 'Pivo sud 30 l', price: 125 },
                    { id: 'beer-50l', label: 'Pivo sud 50 l', price: 175 },
                    { id: 'gas', label: 'Plyn', price: 12 },
                    { id: 'wellness', label: 'Wellness', price: 'Custom' }
                ]
            }
        };

        function updateVillaSettings() {
            const villa = document.getElementById("villa").value;
            const currency = document.querySelector('.currency-toggle button.active').textContent;
            const itemsContainer = document.getElementById("villa-items");
            const items = villaItems[villa][currency] || [];

            itemsContainer.innerHTML = items
                .map(item => `<div><label>${item.label} (${item.price} ${currency})</label><input type="number" id="${item.id}" min="0" /></div>`)
                .join('');
            calculateCityTax();
        }

        function setCurrency(currency) {
            const buttons = document.querySelectorAll('.currency-toggle button');
            buttons.forEach(button => {
                if(button.textContent === currency) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
            updateVillaSettings();
        }

        function calculateCityTax() {
            const guests = parseInt(document.getElementById('guests').value, 10);
            const nights = parseInt(document.getElementById('nights').value, 10);
            const cityTax = guests * nights * 2; // 2 EUR za hosta na noc
            const taxDisplay = document.getElementById('city-tax');
            if (!taxDisplay) {
                const invoiceContainer = document.getElementById('invoiceContainer');
                invoiceContainer.innerHTML += `<div id="city-tax">City Tax: ${cityTax} EUR</div>`;
            } else {
                taxDisplay.textContent = `City Tax: ${cityTax} EUR`;
            }
        }

        function generateInvoice() {
            // Zde by byla logika pro generování faktury
            console.log("Faktura byla vygenerována.");
        }

        document.getElementById('villa').addEventListener('change', updateVillaSettings);
        document.querySelectorAll('.currency-toggle button').forEach(button => {
            button.addEventListener('click', () => setCurrency(button.textContent));
        });
        updateVillaSettings(); // Inicializace položek při načtení stránky
    </script>
</body>
</html>